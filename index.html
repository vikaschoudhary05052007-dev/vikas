<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Choudhary Display - Party Specialist</title>
    <meta name="description" content="" id="meta-description">
    <meta name="keywords" content="" id="meta-keywords">
    <link id="favicon-link" rel="icon" href="">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: { 'heading': ['Playfair Display', 'serif'], 'body': ['Poppins', 'sans-serif'] },
            colors: { 'brand-bg': '#FBF9F6', 'brand-text': '#4D433A', 'brand-primary': '#111111', 'brand-accent': '#C7A97F', 'brand-accent-dark': '#B58A5D' }
          }
        }
      }
    </script>
    <style>
        .section-tag { @apply inline-block text-brand-accent-dark text-sm font-medium tracking-widest uppercase mb-4; }
        .form-input { width: 100%; padding: 0.75rem; background-color: white; border: 1px solid rgba(199, 169, 127, 0.5); border-radius: 0.5rem; color: #4D433A; }
        .form-input:focus { outline: 2px solid #B58A5D; }
        .hero-background { background-size: cover; background-position: center; position: relative; isolation: isolate; }
        .hero-background::after { content: ''; position: absolute; inset: 0; background-color: rgba(25, 25, 25, 0.4); z-index: -1; }
        .hero-background.no-image::after { background-color: transparent; }
        #success-modal { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.5); z-index:60; align-items:center; justify-content:center; }
        #success-modal .modal-card { background:white; padding:24px; border-radius:12px; max-width:420px; width:90%; text-align:center; box-shadow:0 10px 30px rgba(0,0,0,0.2); }
        #success-modal .actions { display:flex; gap:8px; justify-content:center; margin-top: 16px; }
        #success-modal .actions a, #success-modal .actions button { padding:8px 12px; border-radius:8px; border:0; cursor:pointer; font-weight: bold; }
        #success-modal .actions .primary { background:#2563eb; color:white; }
        #success-modal .actions .secondary { background:#f3f4f6; color:#111; }
    </style>
</head>
<body class="font-body bg-brand-bg text-brand-text overflow-x-hidden">

    <header class="sticky top-0 z-50 bg-brand-bg/80 backdrop-blur-lg border-b border-brand-accent/30">
        <div class="container mx-auto px-6">
            <nav class="flex justify-between items-center py-4">
                <a href="#" class="flex items-center space-x-3">
                    <img id="header-logo" src="" alt="Business Logo" class="h-10 w-10 rounded-full hidden object-cover">
                    <span class="font-heading text-2xl font-bold text-brand-primary">Choudhary Display</span>
                </a>
                <nav class="hidden md:flex space-x-6 items-center">
                    <a href="#home" class="font-medium text-brand-text hover:text-brand-accent-dark">Home</a>
                    <a href="#services" class="font-medium text-brand-text hover:text-brand-accent-dark">Services</a>
                    <a href="#about" class="font-medium text-brand-text hover:text-brand-accent-dark">About Us</a>
                    <a href="#gallery" class="font-medium text-brand-text hover:text-brand-accent-dark">Gallery</a>
                    <a href="#testimonials" class="font-medium text-brand-text hover:text-brand-accent-dark">Testimonials</a>
                    <a href="#contact" class="bg-brand-accent-dark text-white font-bold px-5 py-2 rounded-full shadow-lg hover:-translate-y-0.5 transition-all">Contact Us</a>
                </nav>
                <button id="mobile-menu-button" class="md:hidden text-brand-primary border border-brand-primary p-1 rounded-md">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
                </button>
            </nav>
        </div>
    </header>
    
    <div id="mobile-menu" class="hidden fixed top-0 left-0 w-3/4 h-full bg-brand-bg z-50 shadow-2xl p-6 space-y-4">
        <a href="#home" class="block font-medium text-brand-text hover:text-brand-accent-dark">Home</a>
        <a href="#services" class="block font-medium text-brand-text hover:text-brand-accent-dark">Services</a>
        <a href="#about" class="block font-medium text-brand-text hover:text-brand-accent-dark">About Us</a>
        <a href="#gallery" class="block font-medium text-brand-text hover:text-brand-accent-dark">Gallery</a>
        <a href="#testimonials" class="block font-medium text-brand-text hover:text-brand-accent-dark">Testimonial</a>
        <a href="#contact" class="block font-medium text-brand-text hover:text-brand-accent-dark">Contact</a>
        <button id="mobile-menu-close" class="absolute top-4 right-4 text-brand-primary">
             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" x2="6" y1="6" y2="18"/><line x1="6" x2="18" y1="6" y2="18"/></svg>
        </button>
    </div>
    <div id="mobile-menu-overlay" class="hidden fixed inset-0 bg-black/50 z-40"></div>

    <main>
        <section id="home" class="container mx-auto px-6 py-32 md:py-48 text-center hero-background">
            <span class="inline-block text-white text-sm font-medium tracking-widest uppercase mb-4">Choudhary Display & Events</span>
            <h1 class="font-heading text-4xl md:text-6xl text-white mb-6" data-aos="fade-up">Your Dream Event, Our Expertise.</h1>
            <div class="flex justify-center space-x-4" data-aos="fade-up" data-aos-delay="100">
                <a href="#contact" class="bg-brand-accent-dark text-white font-bold px-6 py-3 rounded-full shadow-lg hover:-translate-y-0.5 transition-all">Contact Us</a>
                <a href="#about" class="bg-white text-brand-accent-dark border border-brand-accent-dark font-bold px-6 py-3 rounded-full hover:bg-brand-accent-dark hover:text-white transition-all">Know More</a>
            </div>
        </section>

        <section id="services" class="container mx-auto px-6 py-16">
            <div class="text-center mb-12">
                <span id="services-section-title" class="inline-block text-brand-accent-dark text-sm font-medium tracking-widest uppercase mb-4">Our Services</span>
                <h2 id="services-subtitle" class="font-heading text-4xl md:text-5xl text-brand-primary">Our Grateful Events & Services</h2>
            </div>
            <div id="services-grid" class="space-y-8 md:space-y-0 md:grid md:grid-cols-2 md:gap-8"></div>
        </section>
        
        <section id="service-categories" class="container mx-auto px-6 py-16">
             <div class="text-center mb-12">
                <span class="inline-block text-brand-accent-dark text-sm font-medium tracking-widest uppercase mb-4">Themes</span>
                <h2 class="font-heading text-4xl md:text-5xl text-brand-primary">Our Popular Themes</h2>
            </div>
            <div id="service-categories-grid" class="flex flex-wrap justify-center gap-4"></div>
        </section>

        <section id="key-services" class="container mx-auto px-6 py-16">
            <div id="key-services-list" class="max-w-md md:max-w-2xl mx-auto space-y-4"></div>
        </section>

        <section id="about" class="container mx-auto px-6 py-16">
            <img id="about-image" src="" alt="About Us" class="w-full h-64 object-cover rounded-lg shadow-lg mb-8" data-aos="fade-up">
            <div class="text-center" data-aos="fade-up">
                <span class="inline-block text-brand-accent-dark text-sm font-medium tracking-widest uppercase mb-4">About Us</span>
                <h2 id="about-title" class="font-heading text-4xl md:text-5xl text-brand-primary mb-6">Trusted Over 10+ Years of Experience</h2>
                <p id="about-text" class="text-brand-text leading-relaxed max-w-2xl mx-auto">Loading...</p>
            </div>
        </section>

        <section id="facilities" class="container mx-auto px-6 py-16">
             <div class="max-w-2xl mx-auto">
                <h3 class="font-heading text-3xl text-brand-primary mb-6">Special Services</h3>
                <div id="facilities-list" class="space-y-3"></div>
             </div>
        </section>

        <section id="gallery" class="container mx-auto px-6 py-16">
             <div class="text-center mb-12">
                <span class="inline-block text-brand-accent-dark text-sm font-medium tracking-widest uppercase mb-4">Gallery</span>
                <h2 class="font-heading text-4xl md:text-5xl text-brand-primary">Our Latest Events Photos</h2>
            </div>
            <div id="gallery-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6" data-aos="fade-up"></div>
            <div class="text-center mt-12">
                <button id="show-more-btn" class="hidden bg-brand-accent-dark text-white font-bold px-6 py-3 rounded-full shadow-lg hover:-translate-y-0.5 transition-all">Show All Images</button>
            </div>
        </section>

        <section id="testimonials" class="container mx-auto px-6 py-16">
             <div class="text-center mb-12">
                <span class="inline-block text-brand-accent-dark text-sm font-medium tracking-widest uppercase mb-4">Testimonial</span>
                <h2 class="font-heading text-4xl md:text-5xl text-brand-primary">What Our Customers Say!</h2>
            </div>
            <div id="testimonials-grid" class="space-y-8 md:max-w-3xl md:mx-auto" data-aos="fade-up"></div>
        </section>

        <section id="contact" class="container mx-auto px-6 py-16">
            <div class="max-w-lg mx-auto bg-white p-8 rounded-lg shadow-lg border border-brand-accent/30">
                <div class="text-center mb-8">
                    <span class="inline-block text-brand-accent-dark text-sm font-medium tracking-widest uppercase mb-4">Book Us</span>
                    <h2 class="font-heading text-4xl text-brand-primary">Where You Want Our Services</h2>
                </div>
                <form id="contactForm" class="space-y-4">
                    <div><label class="block mb-1 font-medium text-brand-text">Full Name*</label><input type="text" id="name" class="form-input" required></div>
                    <div><label class="block mb-1 font-medium text-brand-text">Email*</label><input type="email" id="email" class="form-input" required></div>
                    <div><label class="block mb-1 font-medium text-brand-text">Contact No.*</label><input type="tel" id="phone" class="form-input" required></div>
                    <div><label class="block mb-1 font-medium text-brand-text">Event Location*</label><input type="text" id="location" class="form-input" required></div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                         <div><label class="block mb-1 font-medium text-brand-text">Event Date*</label><input type="date" id="date" class="form-input" required></div>
                         <div><label class="block mb-1 font-medium text-brand-text">Event Time*</label><input type="time" id="time" class="form-input" required></div>
                    </div>
                    <button type="submit" class="w-full bg-brand-accent-dark text-white font-bold px-6 py-3 rounded-full shadow-lg hover:-translate-y-0.5 transition-all">Submit</button>
                </form>
            </div>
        </section>

        <section id="map" class="container mx-auto px-6 py-16">
            <div class="text-center mb-12">
                <span class="inline-block text-brand-accent-dark text-sm font-medium tracking-widest uppercase mb-4">Find Us</span>
                <h2 class="font-heading text-4xl md:text-5xl text-brand-primary">Our Location</h2>
            </div>
            <div class="overflow-hidden rounded-lg shadow-lg border border-brand-accent/30" data-aos="fade-up">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3691.0338117744377!2d73.2422967752929!3d22.314560979676333!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x395fcfd1e201436f%3A0x4efe9553a95ea4b5!2sChoudhary%20display!5e0!3m2!1sen!2sin!4v1763290160539!5m2!1sen!2sin" width="100%" height="350" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
            </div>
        </section>
    </main>

    <footer class="bg-brand-bg text-brand-text text-center py-12 border-t border-brand-accent/30 mt-16">
        <div class="container mx-auto px-6">
            <div class="flex justify-center mb-6">
                 <img id="footer-logo" src="" alt="Business Logo" class="h-16 w-16 rounded-full hidden object-cover">
            </div>
            <div id="contact-info" class="space-y-3 max-w-md mx-auto mb-6"></div>
            <div id="social-links" class="flex justify-center space-x-6 my-4"></div>
            <p><a href="tel:+919890974525" class="text-brand-accent-dark hover:text-brand-primary">Connect to Developer</a></p>
            <p class="text-gray-500 mt-4">¬© 2025 Choudhary Display. All Rights Reserved.</p>
        </div>
    </footer>
    
    <button id="scroll-top-btn" class="hidden fixed bottom-6 right-6 bg-brand-accent-dark text-white w-12 h-12 rounded-full shadow-lg flex items-center justify-center transition-opacity z-50">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m18 15-6-6-6 6"/></svg>
    </button>
    
    <div id="gallery-modal" class="hidden fixed inset-0 z-50 overflow-y-auto">
        <div id="modal-overlay" class="fixed inset-0 bg-black/80 backdrop-blur-sm"></div>
        <div class="relative z-10 container mx-auto px-6 py-16">
            <div class="flex justify-between items-center mb-8">
                <h2 class="font-heading text-4xl text-white">Our Gallery</h2>
                <button id="modal-close-btn" class="text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="18" x2="6" y1="6" y2="18"/><line x1="6" x2="18" y1="6" y2="18"/></svg>
                </button>
            </div>
            <div id="modal-gallery-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"></div>
        </div>
    </div>

    <div id="success-modal">
        <div class="modal-card">
            <h3>Booking Received!</h3>
            <p>We will contact you shortly.</p>
            <div class="actions">
                <a id="wa-open" href="#" target="_blank" class="primary">Open WhatsApp</a>
                <button id="close-modal" class="secondary">Close</button>
            </div>
        </div>
    </div>
    
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // ==========================================
        //  STEP 1: FIREBASE CONFIGURATION
        // ==========================================
        const firebaseConfig = {
            apiKey: "AIzaSyDP3sJrsTtJK0akGINs8FM_uD9kgCDXVVI",
            authDomain: "choudhary-display.firebaseapp.com",
            databaseURL: "https://choudhary-display-default-rtdb.firebaseio.com",
            projectId: "choudhary-display",
            storageBucket: "choudhary-display.firebasestorage.app",
            messagingSenderId: "201311724678",
            appId: "1:201311724678:web:d4ce389f4ffae76fb19d07",
            measurementId: "G-VBW112930K"
        };

        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        if(typeof AOS !== 'undefined') AOS.init({ duration: 800, once: true });

        // ==========================================
        //  STEP 2: RENDER LOGIC
        // ==========================================
        function renderWebsite(data) {
            if(!data) return;

            // SEO & HEADERS
            const seo = data.seo || {};
            if(document.getElementById('page-title')) document.getElementById('page-title').textContent = seo.title || 'Choudhary Display';
            if(document.getElementById('meta-description')) document.getElementById('meta-description').setAttribute('content', seo.description || '');
            if(document.getElementById('meta-keywords')) document.getElementById('meta-keywords').setAttribute('content', seo.keywords || '');
            
            // LOGOS
            const hLogo = document.getElementById('header-logo');
            const fLogo = document.getElementById('footer-logo');
            if(hLogo && fLogo) {
                if(data.businessLogoUrl) {
                    hLogo.src = data.businessLogoUrl; fLogo.src = data.businessLogoUrl;
                    hLogo.classList.remove('hidden'); fLogo.classList.remove('hidden');
                } else {
                    hLogo.classList.add('hidden'); fLogo.classList.add('hidden');
                }
            }

            // HERO
            const hero = document.getElementById('home');
            if(hero) {
                if(data.heroImageUrl) {
                    hero.style.backgroundImage = `url('${data.heroImageUrl}')`;
                    hero.classList.remove('no-image');
                } else {
                    hero.classList.add('no-image');
                }
            }

            // TITLES (About & Services)
            if(document.getElementById('about-title')) document.getElementById('about-title').textContent = data.aboutTitle || 'Trusted Over 30+ Years of Experience';
            if(document.getElementById('services-section-title')) document.getElementById('services-section-title').textContent = data.servicesTitle || 'Our Services';
            if(document.getElementById('services-subtitle')) document.getElementById('services-subtitle').textContent = data.servicesSubtitle || 'Our Grateful Events & Services';

            // ABOUT CONTENT
            if(document.getElementById('about-text')) document.getElementById('about-text').textContent = data.aboutText || '';
            if(document.getElementById('about-image') && data.aboutImageUrl) document.getElementById('about-image').src = data.aboutImageUrl;

            // SERVICES (Dynamic List)
            const svcGrid = document.getElementById('services-grid');
            if(svcGrid && data.services) {
                svcGrid.innerHTML = '';
                data.services.forEach(s => {
                    svcGrid.innerHTML += `<div class="bg-white rounded-lg shadow-lg border border-brand-accent/30 overflow-hidden" data-aos="fade-up">
                        <img src="${s.imageUrl}" class="w-full h-64 object-cover">
                        <h3 class="font-heading text-3xl text-brand-primary p-4">${s.title}</h3>
                    </div>`;
                });
            }

            // LISTS
            renderSimpleList('service-categories-grid', data.serviceCategories, (item, i) => 
                `<a href="#" class="${i===0?'bg-brand-accent-dark text-white':'bg-white text-brand-accent-dark'} font-bold px-6 py-3 rounded-full border border-brand-accent-dark">${item}</a>`
            );
            
            renderSimpleList('facilities-list', data.facilities, (item) => 
                `<div class="flex items-center text-brand-text"><svg class="w-5 h-5 mr-3 text-green-600 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 6 9 17l-5-5"></path></svg><span class="text-lg">${item}</span></div>`
            );

            renderSimpleList('key-services-list', data.keyServices, (item) => 
                `<div class="flex items-center text-brand-text"><svg class="w-5 h-5 mr-3 text-brand-accent-dark flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 11 3 3L22 4"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path></svg><span class="text-lg">${item}</span></div>`
            );

            // GALLERY
            const galGrid = document.getElementById('gallery-grid');
            const modGrid = document.getElementById('modal-gallery-grid');
            if(galGrid && modGrid && data.galleryImages) {
                galGrid.innerHTML = ''; modGrid.innerHTML = '';
                data.galleryImages.forEach((url, i) => {
                    modGrid.innerHTML += `<div class="rounded-lg shadow-lg overflow-hidden border border-brand-accent/30"><img src="${url}" class="w-full h-auto object-cover"></div>`;
                    if(i < 4) {
                        galGrid.innerHTML += `<div class="rounded-lg shadow-lg overflow-hidden border border-brand-accent/30 h-64"><img src="${url}" class="w-full h-full object-cover"></div>`;
                    }
                });
                const moreBtn = document.getElementById('show-more-btn');
                if(moreBtn) {
                    if(data.galleryImages.length > 4) moreBtn.classList.remove('hidden');
                    else moreBtn.classList.add('hidden');
                }
            }

            // TESTIMONIALS
            const testGrid = document.getElementById('testimonials-grid');
            if(testGrid && data.testimonials) {
                testGrid.innerHTML = '';
                data.testimonials.forEach(t => {
                    testGrid.innerHTML += `<div class="bg-white p-6 rounded-lg shadow-lg border border-brand-accent/30 relative">
                        <span class="font-heading text-6xl text-brand-accent absolute top-0 right-4">"</span>
                        <h3 class="font-bold text-xl text-brand-primary">${t.name}</h3>
                        <p class="text-sm text-brand-accent-dark mb-3">${t.event}</p>
                        <p class="text-brand-text italic">"${t.quote}"</p>
                    </div>`;
                });
            }

            // CONTACT INFO
            const ci = data.contactInfo || {};
            const ciDiv = document.getElementById('contact-info');
            if(ciDiv) {
                ciDiv.innerHTML = `
                <p class="flex items-center justify-center"><span class="mr-2 text-brand-accent-dark">üìç</span><span>${ci.address||''}</span></p>
                <p class="flex items-center justify-center"><span class="mr-2 text-brand-accent-dark">üìû</span><a href="tel:${ci.phone||''}">${ci.phone||''}</a></p>
                <p class="flex items-center justify-center"><span class="mr-2 text-brand-accent-dark">‚úâÔ∏è</span><a href="mailto:${ci.email||''}">${ci.email||''}</a></p>`;
            }

            // SOCIAL LINKS
            const sl = data.socialLinks || {};
            const slDiv = document.getElementById('social-links');
            if(slDiv) {
                slDiv.innerHTML = `
                <a href="${sl.instagram||'#'}" target="_blank" class="text-brand-text hover:text-brand-accent-dark transition-colors mr-4">Instagram</a>
                <a href="${sl.facebook||'#'}" target="_blank" class="text-brand-text hover:text-brand-accent-dark transition-colors mr-4">Facebook</a>
                <a href="${sl.linkedin||'#'}" target="_blank" class="text-brand-text hover:text-brand-accent-dark transition-colors">LinkedIn</a>`;
            }
        }

        function renderSimpleList(id, list, tpl) {
            const el = document.getElementById(id);
            if(el && list) {
                el.innerHTML = '';
                list.forEach((item, i) => el.innerHTML += tpl(item, i));
            }
        }

        // --- FETCH DATA ---
        db.ref('websiteData').on('value', snap => renderWebsite(snap.val()));

        // ==========================================
        //  STEP 3: INTERACTIONS
        // ==========================================
        
        // Mobile Menu
        const menuBtn = document.getElementById('mobile-menu-button');
        const menu = document.getElementById('mobile-menu');
        const overlay = document.getElementById('mobile-menu-overlay');
        const menuClose = document.getElementById('mobile-menu-close');
        
        function toggleMenu(show) {
            if(menu && overlay) {
                if(show) { menu.classList.remove('hidden'); overlay.classList.remove('hidden'); }
                else { menu.classList.add('hidden'); overlay.classList.add('hidden'); }
            }
        }
        
        if(menuBtn) menuBtn.addEventListener('click', () => toggleMenu(true));
        if(menuClose) menuClose.addEventListener('click', () => toggleMenu(false));
        if(overlay) overlay.addEventListener('click', () => toggleMenu(false));
        if(menu) menu.querySelectorAll('a').forEach(l => l.addEventListener('click', () => toggleMenu(false)));

        // Gallery Modal
        const galModal = document.getElementById('gallery-modal');
        const showMore = document.getElementById('show-more-btn');
        const modClose = document.getElementById('modal-close-btn');
        const modOver = document.getElementById('modal-overlay');

        function toggleModal(show) {
            if(galModal) {
                if(show) { galModal.classList.remove('hidden'); document.body.style.overflow='hidden'; }
                else { galModal.classList.add('hidden'); document.body.style.overflow=''; }
            }
        }
        
        if(showMore) showMore.addEventListener('click', () => toggleModal(true));
        if(modClose) modClose.addEventListener('click', () => toggleModal(false));
        if(modOver) modOver.addEventListener('click', () => toggleModal(false));

        // Scroll Top Button
        const scrollBtn = document.getElementById('scroll-top-btn');
        if(scrollBtn) {
            window.addEventListener('scroll', () => {
                if(window.scrollY > 300) scrollBtn.classList.remove('hidden');
                else scrollBtn.classList.add('hidden');
            });
            scrollBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
        }

        // Contact Form
        const cForm = document.getElementById('contactForm');
        const sBtn = cForm ? cForm.querySelector('button[type="submit"]') : null;
        if(cForm) {
            cForm.addEventListener('submit', (e) => {
                e.preventDefault();
                if(sBtn) { sBtn.disabled=true; sBtn.innerText='Sending...'; }
                
                // Get values safely
                const getVal = (id) => document.getElementById(id) ? document.getElementById(id).value : '';
                const payload = new URLSearchParams();
                ['name','email','phone','location','date','time'].forEach(k => payload.append(k, getVal(k)));

                fetch("https://script.google.com/macros/s/AKfycby_kPa9iAqJKQ_rlv-qOULzOYHZrJ-HttKmCKQetAiD-Bvm_RsV9m-_ZeKsBPVVFoLdhQ/exec", {
                    method: 'POST', body: payload
                }).then(() => {
                    const waLink = `https://wa.me/919328544199?text=${encodeURIComponent('New Booking: ' + getVal('name'))}`;
                    const succModal = document.getElementById('success-modal');
                    const waBtn = document.getElementById('wa-open');
                    if(succModal) {
                        succModal.style.display = 'flex';
                        if(waBtn) waBtn.href = waLink;
                    } else {
                        alert('Booking Sent!'); window.open(waLink);
                    }
                    cForm.reset();
                }).finally(() => { if(sBtn){ sBtn.disabled=false; sBtn.innerText='Submit'; }});
            });
        }
        
        const closeSucc = document.getElementById('close-modal');
        if(closeSucc) closeSucc.addEventListener('click', () => document.getElementById('success-modal').style.display='none');
    </script>
</body>
</html>
